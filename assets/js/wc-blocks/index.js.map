{"version":3,"file":"index.js","mappings":";;;;;AAAAA,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAEhD,MAAMC,EAAE,GAAGC,MAAM,CAACD,EAAE;EACpB,MAAM;IAACE;EAAuB,CAAC,GAAGF,EAAE,CAACG,cAAc;EAEnD,MAAMC,yBAAyB,GAAGA,CAACC,YAAY,EAAEC,UAAU,EAAEC,IAAI,EAAEC,UAAU,KAAK;IAC9E,MAAMC,aAAa,GAAGF,IAAI,EAAEG,OAAO,KAAK,MAAM;IAC9C,IAAI;MAACC,iBAAiB,GAAG;IAAE,CAAC,GAAGL,UAAU;IAEzC,IAAI,CAACG,aAAa,IAAI,CAACG,MAAM,CAACC,IAAI,CAACF,iBAAiB,CAAC,CAACG,MAAM,EAAE,OAAOT,YAAY;IAEjF,IAAIU,OAAO,GAAGC,kBAAkB,CAACL,iBAAiB,CAAC;IAEnD,OAAQ,YAAWI,OAAQ,EAAC;EAChC,CAAC;EAED,MAAME,mBAAmB,GAAGA,CAACZ,YAAY,EAAEC,UAAU,EAAEC,IAAI,EAAEC,UAAU,KAAK;IACxE,MAAMC,aAAa,GAAGF,IAAI,EAAEG,OAAO,KAAK,MAAM,IAAIH,IAAI,EAAEG,OAAO,KAAK,SAAS;IAC7E,IAAI;MAACC,iBAAiB,GAAG;IAAE,CAAC,GAAGL,UAAU;IAEzC,IAAI,CAACG,aAAa,IAAI,CAACG,MAAM,CAACC,IAAI,CAACF,iBAAiB,CAAC,CAACG,MAAM,EAAE,OAAOT,YAAY;IAEjF,IAAIU,OAAO,GAAGC,kBAAkB,CAACL,iBAAiB,CAAC;IAEnD,IAAIA,iBAAiB,EAAEO,WAAW,EAAEH,OAAO,IAAI,IAAI,GAAGJ,iBAAiB,CAACO,WAAW;IAEnF,OAAQ,YAAWH,OAAQ,EAAC;EAChC,CAAC;EAEDb,uBAAuB,CAAC,OAAO,EAAE;IAC7BiB,mBAAmB,EAAEf,yBAAyB;IAC9CgB,aAAa,EAAEH;EACnB,CAAC,CAAC;EAEF,MAAMD,kBAAkB,GAAIT,IAAI,IAAK;IACjC,IAAI;MAACQ,OAAO,GAAG,EAAE;MAAEM,kBAAkB,GAAG,EAAE;MAAEC,mBAAmB,GAAG,EAAE;MAAEC,YAAY,GAAG,EAAE;MAAEC,WAAW,GAAG,EAAE;MAAEC,MAAM,GAAG;IAAE,CAAC,GAAGlB,IAAI;IAE9HQ,OAAO,GAAGA,OAAO,CAACW,OAAO,CAAC,sBAAsB,EAAE,EAAE,CAAC;IACrDX,OAAO,GAAGA,OAAO,CAACW,OAAO,CAAC,uBAAuB,EAAEJ,mBAAmB,CAAC;IACvEP,OAAO,GAAGA,OAAO,CAACW,OAAO,CAAC,eAAe,EAAE1B,EAAE,CAAC2B,WAAW,CAACC,WAAW,CAACJ,WAAW,CAAC,CAAC;IACnFT,OAAO,GAAGA,OAAO,CAACW,OAAO,CAAC,gBAAgB,EAAEH,YAAY,CAAC;IAEzD,IAAIE,MAAM,EAAEV,OAAO,IAAIU,MAAM;IAE7B,OAAOV,OAAO;EAClB,CAAC;AACL,CAAC,CAAC,C","sources":["webpack://subre-product-subscription-for-woocommerce/./src/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\r\n\r\n    const wc = window.wc;\r\n    const {registerCheckoutFilters} = wc.blocksCheckout;\r\n\r\n    const modifySubtotalPriceFormat = (defaultValue, extensions, args, validation) => {\r\n        const isCartContext = args?.context === 'cart';\r\n        let {subreSubscription = []} = extensions;\r\n\r\n        if (!isCartContext || !Object.keys(subreSubscription).length) return defaultValue;\r\n\r\n        let display = replacePlaceholder(subreSubscription);\r\n\r\n        return `<price/> ${display}`;\r\n    };\r\n\r\n    const modifyCartItemPrice = (defaultValue, extensions, args, validation) => {\r\n        const isCartContext = args?.context === 'cart' || args?.context === 'summary';\r\n        let {subreSubscription = []} = extensions;\r\n\r\n        if (!isCartContext || !Object.keys(subreSubscription).length) return defaultValue;\r\n\r\n        let display = replacePlaceholder(subreSubscription);\r\n\r\n        if (subreSubscription?.first_renew) display += \". \" + subreSubscription.first_renew;\r\n\r\n        return `<price/> ${display}`;\r\n    };\r\n\r\n    registerCheckoutFilters('subre', {\r\n        subtotalPriceFormat: modifySubtotalPriceFormat,\r\n        cartItemPrice: modifyCartItemPrice,\r\n    });\r\n\r\n    const replacePlaceholder = (args) => {\r\n        let {display = '', subscription_price = '', subscription_period = '', trial_period = '', sign_up_fee = '', expiry = ''} = args;\r\n\r\n        display = display.replace('{subscription_price}', '');\r\n        display = display.replace('{subscription_period}', subscription_period);\r\n        display = display.replace('{sign_up_fee}', wc.priceFormat.formatPrice(sign_up_fee));\r\n        display = display.replace('{trial_period}', trial_period);\r\n\r\n        if (expiry) display += expiry;\r\n\r\n        return display;\r\n    }\r\n});\r\n"],"names":["document","addEventListener","wc","window","registerCheckoutFilters","blocksCheckout","modifySubtotalPriceFormat","defaultValue","extensions","args","validation","isCartContext","context","subreSubscription","Object","keys","length","display","replacePlaceholder","modifyCartItemPrice","first_renew","subtotalPriceFormat","cartItemPrice","subscription_price","subscription_period","trial_period","sign_up_fee","expiry","replace","priceFormat","formatPrice"],"sourceRoot":""}